<page-header></page-header>

<ion-content color="light">

  <ion-row class="ion-margin-top">
    <ion-col size-xs="1" size-sm="2" size-md="3"></ion-col>
    <ion-col size-xs="10" size-sm="8" size-md="6">

      <ion-card class="ion-margin-top">
        <ion-card-header>
          <ion-card-title>
            <ion-row>
              <ion-col size-xs="12">
                <h1 class="ion-text-capitalize ion-text-center">
                  <ion-icon name="apps"></ion-icon>
                 Users
                </h1>
              </ion-col>
            </ion-row>
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <!-- BEGIN ITEMS FORM -->

          
          <ion-grid [hidden]="state.add || state.edit">
            <ion-row [hidden]="state.add || state.edit">
              <ion-col size-xs="12">
                <ion-button (click)="onAddHandle(editForm)" type="submit" expand="block" fill="outline">
                  <ion-icon slot="start" name="add-circle"></ion-icon>
                  Add</ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>

          <!-- BEGIN ADD FORM -->
          <form #addForm="ngForm" novalidate [hidden]="!state.add">
            <ion-grid>
              <ion-row>
                <ion-col size-xs="3">
                  <ion-button (click)="onSubmitHandle(editForm)" type="submit" expand="block">Save</ion-button>
                  <ion-button (click)="onCancelHandle(editForm)" color="light" expand="block">Cancel</ion-button>
                </ion-col>
                <ion-col size-xs="9">
                  <ion-item>
                    <ion-label position="stacked" color="primary">Username</ion-label>
                    <ion-input [(ngModel)]="state.item.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                      required>
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-grid>
          </form>
          <!-- END ADD FORM -->

          <!-- BEGIN EDIT FORM -->
          <form #editForm="ngForm" novalidate [hidden]="!state.edit">
            <ion-grid>
              <ion-row>
                <ion-col size-xs="12">
                  <ion-item>
                    <ion-label position="floating" color="primary">Username</ion-label>
                    <ion-input [(ngModel)]="state.item.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                      required>
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size-xs="12">
                  <ion-item>
                    <ion-label position="floating" color="primary">Email</ion-label>
                    <ion-input [(ngModel)]="state.item.emailaddress" name="emailaddress" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                      required>
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size-xs="6">
                  <ion-button expand="block" (click)="onSubmitHandle(editForm)" type="submit" size="small">Save</ion-button>
                </ion-col>
                <ion-col size-xs="6">
                  <ion-button expand="block" (click)="onCancelHandle(editForm)" color="light" size="small">Cancel</ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </form>
          <!-- END EDIT FORM -->

          <!-- BEGIN ITEMS GRID -->
          <ion-grid *ngIf="state.formData.length > 0">
            <ion-row *ngFor="let item of state.formData">
              <ion-col size-xs="12">

                <ion-row>
                  <ion-col size-xs="12">
                    <ion-item>
                      <ion-text>{{item.username}}</ion-text>
                    </ion-item>
                    <ion-item>
                      <ion-text readonly="true">{{item.emailaddress}}</ion-text>
                    </ion-item>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col size-xs="12">
                    <ion-button size="small" fill="outline" (click)="onEditHandle(item)">
                      <ion-icon name="construct-sharp"></ion-icon>
                      &nbsp;Edit
                    </ion-button>
                    <ion-button size="small" fill="outline" color="medium" (click)="onDeleteHandle(item)">
                      <ion-icon name="trash"></ion-icon>
                      Delete
                    </ion-button>
                  </ion-col>
                </ion-row>


              </ion-col>
            </ion-row>
          </ion-grid>

           <!-- END ITEMS FORM -->
        </ion-card-content>
      </ion-card>

    </ion-col>
    <ion-col size-xs="1" size-sm="2" size-md="3"></ion-col>
  </ion-row>

</ion-content>

<page-footer></page-footer>