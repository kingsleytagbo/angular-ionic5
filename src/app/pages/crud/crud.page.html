<ion-header>
    <ion-toolbar>
        <ion-title>LMS</ion-title>
        <ion-buttons slot="primary">
          <ion-button *ngIf="loggedIn" (click)="logout()">
            <ion-icon slot="icon" name="lock"></ion-icon>
            <span>Logout </span>
          </ion-button>
          <ion-button *ngIf="!loggedIn" (click)="login()">
              <ion-icon slot="end" name="log-out"></ion-icon>
              <span>Login</span>
            </ion-button>
        </ion-buttons>
        <!--
        <ion-buttons slot="end">
          <ion-menu-button autoHide="false"></ion-menu-button>
        </ion-buttons>
        -->
      </ion-toolbar>
</ion-header>

<ion-content color="light">
  <ion-grid>
    <ion-row>
      <ion-col size-sm="1"></ion-col>
      <ion-col size-sm="10">

        <ion-grid>
          <ion-row>
            <ion-col size-sm="12">
              <h4>Manage Users</h4>
            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-grid [hidden]="state.add || state.edit">
          <ion-row [hidden]="state.add || state.edit">
            <ion-col size-sm="3">
              <ion-button (click)="onAddHandle(editForm)" type="submit" expand="block">Add</ion-button>
            </ion-col>
            <ion-col size-sm="9"></ion-col>
          </ion-row>
        </ion-grid>

        <!-- BEGIN ADD FORM -->
        <form #addForm="ngForm" novalidate [hidden]="!state.add">
          <ion-grid>
            <ion-row>
              <ion-col size-sm="3">
                <ion-button (click)="onSubmitHandle(editForm)" type="submit" expand="block">Save</ion-button>
                <ion-button (click)="onCancelHandle(editForm)" color="light" expand="block">Cancel</ion-button>
              </ion-col>
              <ion-col size-sm="9">
                <ion-item>
                  <ion-label position="stacked" color="primary">Username</ion-label>
                  <ion-input [(ngModel)]="state.item.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                    required>
                  </ion-input>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
        <!-- END ADD FORM -->

        <!-- BEGIN EDIT FORM -->
        <form #editForm="ngForm" novalidate [hidden]="!state.edit">
          <ion-grid>
            <ion-row>
              <ion-col size-sm="3">
                <ion-button (click)="onSubmitHandle(editForm)" type="submit" size="small">Save</ion-button>
                <ion-button (click)="onCancelHandle(editForm)" color="light" size="small">Cancel</ion-button>
              </ion-col>
              <ion-col size-sm="9">
                <ion-item>
                  <ion-label position="stacked" color="primary">Username</ion-label>
                  <ion-input [(ngModel)]="state.item.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                    required>
                  </ion-input>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
        <!-- END EDIT FORM -->

        <!-- BEGIN ITEMS GRID -->
        <ion-grid *ngIf="state.formData.length > 0">
          <ion-row *ngFor="let item of state.formData">
            <ion-col size-sm="3">
              <ion-button size="small" fill="outline" (click)="onEditHandle(item)">
                Edit
              </ion-button>
              <ion-button size="small" fill="outline" color="danger" (click)="onDeleteHandle(item)">
                Delete
              </ion-button>
            </ion-col>
            <ion-col size-sm="9">
              <div item-content>
                <ion-text item-end>{{item.username}}</ion-text>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>

        <!-- END ITEMS FORM -->
      </ion-col>
      <ion-col size-sm="1"></ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<ion-footer>
  <ion-row>
    <ion-col center class="ion-text-center">
      <button>
        <ion-icon name="thumbs-up"></ion-icon>
        <div>All Rights Reserved.</div>
      </button>
    </ion-col>
    <ion-col center class="ion-text-center">
      <button>
        <ion-icon name="text"></ion-icon>
        <div>Copyright, Full Stack Guru</div>
      </button>
    </ion-col>
    <ion-col center class="ion-text-center">
      <button>
        <ion-icon name="time"></ion-icon>
        <div>code.full-stack.guru</div>
      </button>
    </ion-col>
  </ion-row>
</ion-footer>