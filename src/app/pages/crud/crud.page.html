<page-header></page-header>

<ion-content color="light">
  <ion-grid>
    <ion-row>
      <ion-col size-xs="1" size-sm="2" size-md="3"></ion-col>
      <ion-col size-xs="10" size-sm="8" size-md="6">

        <ion-grid>
          <ion-row>
            <ion-col size-xs="12">
              <h4>Manage Users</h4>
            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-grid [hidden]="state.add || state.edit">
          <ion-row [hidden]="state.add || state.edit">
            <ion-col size-xs="3">
              <ion-button (click)="onAddHandle(editForm)" type="submit" expand="block">Add</ion-button>
            </ion-col>
            <ion-col size-xs="9"></ion-col>
          </ion-row>
        </ion-grid>

        <!-- BEGIN ADD FORM -->
        <form #addForm="ngForm" novalidate [hidden]="!state.add">
          <ion-grid>
            <ion-row>
              <ion-col size-xs="3">
                <ion-button (click)="onSubmitHandle(editForm)" type="submit" expand="block">Save</ion-button>
                <ion-button (click)="onCancelHandle(editForm)" color="light" expand="block">Cancel</ion-button>
              </ion-col>
              <ion-col size-xs="9">
                <ion-item>
                  <ion-label position="stacked" color="primary">Username</ion-label>
                  <ion-input [(ngModel)]="state.item.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                    required>
                  </ion-input>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
        <!-- END ADD FORM -->

        <!-- BEGIN EDIT FORM -->
        <form #editForm="ngForm" novalidate [hidden]="!state.edit">
          <ion-grid>
            <ion-row>
              <ion-col size-xs="3">
                <ion-button (click)="onSubmitHandle(editForm)" type="submit" size="small">Save</ion-button>
                <ion-button (click)="onCancelHandle(editForm)" color="light" size="small">Cancel</ion-button>
              </ion-col>
              <ion-col size-xs="9">
                <ion-item>
                  <ion-label position="stacked" color="primary">Username</ion-label>
                  <ion-input [(ngModel)]="state.item.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
                    required>
                  </ion-input>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
        </form>
        <!-- END EDIT FORM -->

        <!-- BEGIN ITEMS GRID -->
        <ion-grid *ngIf="state.formData.length > 0">
          <ion-row *ngFor="let item of state.formData">
            <ion-col size-xs="3">
              <ion-button size="small" fill="outline" (click)="onEditHandle(item)">
                Edit
              </ion-button>
              <ion-button size="small" fill="outline" color="danger" (click)="onDeleteHandle(item)">
                Delete
              </ion-button>
            </ion-col>
            <ion-col size-xs="9">
              <div item-content>
                <ion-text item-end>{{item.username}}</ion-text>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>

        <!-- END ITEMS FORM -->
      </ion-col>
      <ion-col size-xs="1" size-sm="2" size-md="3"></ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<page-footer></page-footer>